# Shared Makefile Configuration
# Central source of truth for ports, hosts, and endpoints across all services

# Default ports (synchronized with shared/config/defaults.py)
TEMPORAL_PORT := 7233
TEMPORAL_UI_PORT := 8233
FRONTEND_PORT := 3000
API_PORT := 8080
GRAPHQL_PORT := 4000

# Default hosts
DEFAULT_HOST := localhost

# Convenience variables for common URL patterns
TEMPORAL_ADDRESS := $(DEFAULT_HOST):$(TEMPORAL_PORT)
TEMPORAL_UI_URL := http://$(DEFAULT_HOST):$(TEMPORAL_UI_PORT)
FRONTEND_URL := http://$(DEFAULT_HOST):$(FRONTEND_PORT)
API_URL := http://$(DEFAULT_HOST):$(API_PORT)
GRAPHQL_URL := http://$(DEFAULT_HOST):$(GRAPHQL_PORT)
GRAPHQL_ENDPOINT := $(GRAPHQL_URL)/graphql
GRAPHQL_PLAYGROUND := $(GRAPHQL_URL)/playground

# Environment-specific overrides (can be set via environment variables)
TEMPORAL_ADDRESS := $(or $(TEMPORAL_ADDRESS_OVERRIDE),$(TEMPORAL_ADDRESS))
TEMPORAL_UI_URL := $(or $(TEMPORAL_UI_URL_OVERRIDE),$(TEMPORAL_UI_URL))
FRONTEND_URL := $(or $(FRONTEND_URL_OVERRIDE),$(FRONTEND_URL))
API_URL := $(or $(API_URL_OVERRIDE),$(API_URL))
GRAPHQL_URL := $(or $(GRAPHQL_URL_OVERRIDE),$(GRAPHQL_URL))

# Export variables for use in Makefiles and commands
export TEMPORAL_PORT
export TEMPORAL_UI_PORT
export FRONTEND_PORT
export API_PORT
export GRAPHQL_PORT
export DEFAULT_HOST
export TEMPORAL_ADDRESS
export TEMPORAL_UI_URL
export FRONTEND_URL
export API_URL
export GRAPHQL_URL
export GRAPHQL_ENDPOINT
export GRAPHQL_PLAYGROUND
